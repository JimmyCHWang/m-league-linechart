(function(t){function e(e){for(var r,s,c=e[0],l=e[1],u=e[2],i=0,m=[];i<c.length;i++)s=c[i],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(m.length)m.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],r=!0,c=1;c<o.length;c++){var l=o[c];0!==n[l]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=o[0]))}return t}var r={},n={app:0},a=[];function s(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=r,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(o,r,function(e){return t[e]}.bind(null,r));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},1127:function(t,e,o){"use strict";o("9c84")},"56d7":function(t,e,o){"use strict";o.r(e);o("c8ba"),o("5961"),o("7ecd"),o("0185");var r=o("34b8"),n=(o("0101"),o("6766")),a={class:"container py-3",id:"form"},s={id:"switches-and-buttons"},c={id:"normal-block"},l={class:"text-center mb-3"},u={class:"mb-2"},d={class:"input-group mb-3"},i={class:"input-group-text",id:"east-name"},m=["placeholder"],h={class:"input-group mb-3"},p={class:"input-group-text",id:"south-name"},b=["placeholder"],f={class:"input-group mb-3"},S={class:"input-group-text",id:"west-name"},y=["placeholder"],O={class:"input-group mb-3"},j={class:"input-group-text",id:"north-name"},N=["placeholder"],w={class:"form-check fs-4 ms-4"},I=Object(r["d"])("label",{class:"form-check-label",for:"normalCounterCheckbox"},"连庄",-1),v={class:"text-center"},g=Object(r["d"])("div",{class:"container",id:"chart"},[Object(r["d"])("canvas",{id:"normalChart"})],-1),C={class:"modal fade",id:"editNameModal",tabindex:"-1"},x={class:"modal-dialog"},P={class:"modal-content"},L=Object(r["d"])("div",{class:"modal-header"},[Object(r["d"])("h5",{class:"modal-title",id:"editNameModalLabel"},"修改选手名称"),Object(r["d"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),M={class:"modal-body"},k={class:"modal-footer"},F=Object(r["d"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1);function T(t,e,o,n,T,V){return Object(r["e"])(),Object(r["c"])(r["a"],null,[Object(r["d"])("div",a,[Object(r["d"])("div",s,[Object(r["d"])("button",{type:"button",class:"btn btn-warning",id:"fix-names",onClick:e[0]||(e[0]=function(t){return V.openModal()})},"修改姓名")]),Object(r["d"])("div",c,[Object(r["d"])("div",l,[Object(r["d"])("h2",null,Object(r["f"])(V.getRound(T.currentPlayInfo,!0)),1)]),Object(r["d"])("form",null,[Object(r["d"])("div",u,[Object(r["d"])("div",d,[Object(r["d"])("span",i,Object(r["f"])(T.playerNames.east),1),Object(r["i"])(Object(r["d"])("input",{type:"text",class:"form-control",placeholder:T.normalFormInfo.eastLastScore,"onUpdate:modelValue":e[1]||(e[1]=function(t){return T.normalFormInfo.eastScore=t})},null,8,m),[[r["h"],T.normalFormInfo.eastScore]])]),Object(r["d"])("div",h,[Object(r["d"])("span",p,Object(r["f"])(T.playerNames.south),1),Object(r["i"])(Object(r["d"])("input",{type:"text",class:"form-control",placeholder:T.normalFormInfo.southLastScore,"onUpdate:modelValue":e[2]||(e[2]=function(t){return T.normalFormInfo.southScore=t})},null,8,b),[[r["h"],T.normalFormInfo.southScore]])]),Object(r["d"])("div",f,[Object(r["d"])("span",S,Object(r["f"])(T.playerNames.west),1),Object(r["i"])(Object(r["d"])("input",{type:"text",class:"form-control",placeholder:T.normalFormInfo.westLastScore,"onUpdate:modelValue":e[3]||(e[3]=function(t){return T.normalFormInfo.westScore=t})},null,8,y),[[r["h"],T.normalFormInfo.westScore]])]),Object(r["d"])("div",O,[Object(r["d"])("span",j,Object(r["f"])(T.playerNames.north),1),Object(r["i"])(Object(r["d"])("input",{type:"text",class:"form-control",placeholder:T.normalFormInfo.northLastScore,"onUpdate:modelValue":e[4]||(e[4]=function(t){return T.normalFormInfo.northScore=t})},null,8,N),[[r["h"],T.normalFormInfo.northScore]])]),Object(r["d"])("div",w,[I,Object(r["i"])(Object(r["d"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"normalCounterCheckbox","onUpdate:modelValue":e[5]||(e[5]=function(t){return T.normalFormInfo.addCounter=t})},null,512),[[r["g"],T.normalFormInfo.addCounter]])])]),Object(r["d"])("div",v,[Object(r["d"])("button",{type:"button",class:"btn btn-primary me-3",onClick:e[6]||(e[6]=function(t){return V.addRecordNormal()})},"添加记录"),Object(r["d"])("button",{type:"button",class:"btn btn-danger",onClick:e[7]||(e[7]=function(t){return V.revertRecordNormal()})},"退回上条")])])])]),g,Object(r["d"])("div",C,[Object(r["d"])("div",x,[Object(r["d"])("div",P,[L,Object(r["d"])("div",M,[Object(r["i"])(Object(r["d"])("input",{type:"text",class:"form-control mb-3",placeholder:"起始东家","onUpdate:modelValue":e[8]||(e[8]=function(t){return T.modalTempNames.east=t})},null,512),[[r["h"],T.modalTempNames.east]]),Object(r["i"])(Object(r["d"])("input",{type:"text",class:"form-control mb-3",placeholder:"起始南家","onUpdate:modelValue":e[9]||(e[9]=function(t){return T.modalTempNames.south=t})},null,512),[[r["h"],T.modalTempNames.south]]),Object(r["i"])(Object(r["d"])("input",{type:"text",class:"form-control mb-3",placeholder:"起始西家","onUpdate:modelValue":e[10]||(e[10]=function(t){return T.modalTempNames.west=t})},null,512),[[r["h"],T.modalTempNames.west]]),Object(r["i"])(Object(r["d"])("input",{type:"text",class:"form-control",placeholder:"起始北家","onUpdate:modelValue":e[11]||(e[11]=function(t){return T.modalTempNames.north=t})},null,512),[[r["h"],T.modalTempNames.north]])]),Object(r["d"])("div",k,[F,Object(r["d"])("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:e[12]||(e[12]=function(t){return V.editNames()})},"保存")])])])])],64)}var V=o("c1f9"),U=(o("59d7"),o("44ad"),o("772b"),o("8372"),o("3be2"),o("8d1b"),o("8608")),R={name:"App",data:function(){return{currentPlayInfo:{round:1,hand:1,counter:0,riichiBets:0},playerNames:{east:"P1",south:"P2",west:"P3",north:"P4"},normalFormInfo:{eastLastScore:250,southLastScore:250,westLastScore:250,northLastScore:250,eastScore:"",southScore:"",westScore:"",northScore:"",addCounter:!1},modalTempNames:{east:"P1",south:"P2",west:"P3",north:"P4"},editNameModalInstance:void 0,normalChartInstance:void 0,normalScores:[{round:0,hand:0,counter:0,east:25e3,south:25e3,west:25e3,north:25e3}]}},computed:{dealer:function(){return["east","south","west","north"][this.currentPlayInfo.hand]},normalMax:function(){return Math.max.apply(Math,Object(V["a"])(this.normalScores.map((function(t){return Math.max(t.east,t.south,t.west,t.north)}))))},normalMin:function(){return Math.min.apply(Math,Object(V["a"])(this.normalScores.map((function(t){return Math.min(t.east,t.south,t.west,t.north)}))))}},mounted:function(){this.editNameModalInstance=new n["a"](document.getElementById("editNameModal")),U["a"].defaults.color="white",U["a"].defaults.borderColor="white",this.renderChart()},methods:{getRound:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.round,r=t.hand,n=t.counter,a={1:"東",2:"南",3:"西",4:"北",5:"延长"}[o]||"";return e?"".concat(a).concat(r,"局"):"".concat(a).concat(r,"局").concat(n>0?n+"本场":"")},addRecordNormal:function(){var t=this.currentPlayInfo,e=this.normalFormInfo,o=function(t,e){return Number.isNaN(t)?100*e:Math.abs(t)<1e3?100*t:t};this.normalScores.push({round:t.round,hand:t.hand,counter:t.counter,east:o(Number.parseInt(e.eastScore),e.eastLastScore),south:o(Number.parseInt(e.southScore),e.southLastScore),west:o(Number.parseInt(e.westScore),e.westLastScore),north:o(Number.parseInt(e.northScore),e.northLastScore)}),e.addCounter?this.currentPlayInfo.counter++:(this.currentPlayInfo.hand++,this.currentPlayInfo.counter=0,this.currentPlayInfo.hand>4&&(this.currentPlayInfo.round++,this.currentPlayInfo.hand=1)),this.normalFormInfo={eastLastScore:o(Number.parseInt(e.eastScore),e.eastLastScore)/100,southLastScore:o(Number.parseInt(e.southScore),e.southLastScore)/100,westLastScore:o(Number.parseInt(e.westScore),e.westLastScore)/100,northLastScore:o(Number.parseInt(e.northScore),e.northLastScore)/100,eastScore:"",southScore:"",westScore:"",northScore:"",addCounter:!1},this.renderChart()},revertRecordNormal:function(){if(!(this.normalScores.length<=1)){this.currentPlayInfo.counter=this.normalScores[this.normalScores.length-1].counter,this.currentPlayInfo.hand=this.normalScores[this.normalScores.length-1].hand,this.currentPlayInfo.round=this.normalScores[this.normalScores.length-1].round,this.normalScores.splice(this.normalScores.length-1,1);var t=this.normalScores.length;this.normalFormInfo={eastLastScore:this.normalScores[t-1].east,southLastScore:this.normalScores[t-1].south,westLastScore:this.normalScores[t-1].west,northLastScore:this.normalScores[t-1].north,eastScore:null,southScore:null,westScore:null,northScore:null,addCounter:!1},this.renderChart()}},editNames:function(){this.playerNames.east=this.modalTempNames.east,this.playerNames.south=this.modalTempNames.south,this.playerNames.west=this.modalTempNames.west,this.playerNames.north=this.modalTempNames.north,this.renderChart()},openModal:function(){this.modalTempNames.east=this.playerNames.east,this.modalTempNames.south=this.playerNames.south,this.modalTempNames.west=this.playerNames.west,this.modalTempNames.north=this.playerNames.north,this.editNameModalInstance.show()},renderChart:function(){var t=this;this.normalChartInstance&&(this.normalChartInstance.stop(),this.normalChartInstance.destroy()),this.normalChartInstance=new U["a"](document.getElementById("normalChart").getContext("2d"),{type:"line",data:{labels:this.normalScores.map((function(t){return 0==t.round||t.counter>0?"":1==t.hand?"".concat({1:"東",2:"南",3:"西",4:"北"}[t.round]||"延","1"):t.hand})),datasets:[{label:this.playerNames.east,data:this.normalScores.map((function(t){return t.east})),borderColor:"red",backgroundColor:"red"},{label:this.playerNames.south,data:this.normalScores.map((function(t){return t.south})),borderColor:"blue",backgroundColor:"blue"},{label:this.playerNames.west,data:this.normalScores.map((function(t){return t.west})),borderColor:"green",backgroundColor:"green"},{label:this.playerNames.north,data:this.normalScores.map((function(t){return t.north})),borderColor:"yellow",backgroundColor:"yellow"}]},options:{animation:!1,scales:{x:{borderWidth:3,autoSkip:!1},y:{grid:{display:!1},ticks:{callback:function(e){return 25e3==e||e==t.normalMax||e==t.normalMin?this.getLabelForValue(e):""},stepSize:100,autoSkip:!1},borderWidth:3,max:this.normalMax+500,min:this.normalMin-500}}}})}}},_=(o("1127"),o("b3f2")),B=o.n(_);const E=B()(R,[["render",T]]);var J=E;Object(r["b"])(J).mount("#app")},"9c84":function(t,e,o){}});
//# sourceMappingURL=app.93727c32.js.map